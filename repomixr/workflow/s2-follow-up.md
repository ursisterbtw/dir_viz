# Prompt: Preprocess and Parse repomix .xml File for Structural Analysis

---

You will receive a `.xml` file generated by **repomix**, containing structured metadata and hierarchical definitions of a codebase. Your task is to programmatically parse and preprocess this file into usable formats for further architectural and visual analysis.

## üß© Tasks

### 1. XML Parsing and Extraction

- Parse the `.xml` document using a reliable XML parser.
- Extract key elements such as:
  - Files and directories
  - Classes, functions, and interfaces
  - Dependencies (internal/external)
  - Metadata (authors, timestamps, TODOs, annotations, etc.)
- Normalize naming conventions, file paths, and module names.

### 2. Structured Intermediate Output (JSON)

- Convert the parsed information into a clean, well-structured **JSON format** that reflects:
  - Full hierarchical structure (root-to-leaf nesting)
  - Class/function metadata (name, location, relationships)
  - Dependency edges (e.g., import/use relationships)
  - Annotations or comments such as `TODO`, `FIXME`, etc.
- Ensure the JSON is modular and supports:
  - Hierarchical browsing
  - Relationship traversal
  - Diagram generation (nodes, edges, attributes)

### 3. Markdown Summary Report

- Generate a summary in **Markdown format**, including:
  - üìÅ Directory/module overview (nested list or code block)
  - üìå Key components and roles (based on metadata or naming)
  - üß™ List of test files/modules (if present)
  - üõ† Notable patterns: placeholder code, stub files, unimplemented logic
  - üßµ Relationship indicators (inheritance, usage, import, etc.)

### 4. Mermaid Graph Seeds (Optional)

- For each of the following, emit an initial **Mermaid graph skeleton**:
  - Module dependency graph
  - Class inheritance tree
  - Directory structure tree
- Include clear `classDef`, `link`, and `flowchart` or `graph TD` sections as appropriate.
- Ensure graph IDs and labels are consistently derived from the parsed content.

---

## ‚úÖ Requirements

- Output both **JSON** and **Markdown**.
- Maintain a clean, modular format suitable for transformation into diagrams and reports.
- Clearly document your parsing strategy, any heuristics used, and assumptions made.
- Validate that the output supports generation of:
  - Architecture diagrams
  - Class and dependency graphs
  - Flowcharts and sequence diagrams

### Bonus

- If available, surface opportunities for performance profiling (e.g., via complexity annotations or hot paths).
- Highlight platform-specific or conditional logic.
- Integrate TODO detection and emit a list of unimplemented or partially implemented artifacts.

---
